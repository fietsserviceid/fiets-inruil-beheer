<!DOCTYPE html>
<html lang='nl'>
<head>
  <meta charset='UTF-8'>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <title>FSID Beheer Portal</title>
  <link rel='stylesheet' href='./style.css'>
</head>
<body>
  <header class='fsid-header'>
    <img src='./logo.png' class='fsid-logo'>
    <span class='fsid-title'>FSID Beheer Portal</span>
  </header>

  <div id='login-screen' class='card'>
    <h1>Inloggen</h1>
    <label>Gebruikersnaam</label>
    <input id='username'>
    <label>Wachtwoord</label>
    <input id='password' type='password'>
    <button onclick='startLogin()' class='btn-primary'>Inloggen</button>
    <p id='login-msg'></p>
  </div>

  <div id='totp-screen' class='card' style='display:none;'>
    <h2>Voer 2FA code in</h2>
    <input id='totp' maxlength='6'>
    <button onclick='verifyTOTP()' class='btn-primary'>Bevestigen</button>
    <p id='totp-msg'></p>
  </div>

  <div id='app' style='display:none;'>
    <nav class='menu'>
      <button onclick='showDealers()' class='menu-btn'>Dealers</button>
      <button onclick='showCodes()' class='menu-btn'>Codes</button>
      <button onclick='openSettings()' class='menu-btn'>Instellingen</button>
      <button onclick='logout()' class='menu-btn'>Uitloggen</button>
    </nav>

    <section id='codes-screen' class='card' style='display:none;'>
      <h2>Installatiecodes</h2>
      <button onclick='loadCodesFromGitHub()' class='btn-secondary'>Herladen</button>
      <button onclick='saveCodesToGitHub()' class='btn-primary'>Opslaan</button>
      <span id='codes-status'></span>
      <div id='codes-meta'></div>
      <input id='codesSearch' placeholder='Zoek...' oninput='filterCodes()'>
      <table id='codesTable'></table>
    </section>

    <section id='dealers-screen' class='card' style='display:none;'>
      <h2>Dealers</h2>
      <button onclick='newDealer()' class='btn-primary'>+ Nieuwe Dealer</button>
      <input id='dealerSearch' placeholder='Zoek...' oninput='filterDealers()'>
      <table id='dealersTable'></table>
      <div id='dealer-form' style='display:none;'>
        <h3 id='dealer-form-title'></h3>
        <label>Naam</label><input id='form-name'>
        <label>Stad</label><input id='form-city'>
        <label>Code</label><input id='form-code'>
        <label>Actief</label><input id='form-active' type='checkbox'>
        <button onclick='saveDealer()' class='btn-primary'>Opslaan</button>
        <button onclick='cancelDealerForm()' class='btn-secondary'>Annuleren</button>
      </div>
    </section>
  </div>

  <script src='./app.js'></script>
</body>
</html>